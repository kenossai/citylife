# Laravel Cloud Configuration

This file is automatically detected by Laravel Cloud and configures your deployment.

## Build Commands
build = [
    "mkdir -p storage/framework/sessions storage/framework/views storage/framework/cache/data storage/logs bootstrap/cache",
    "chmod -R 775 storage bootstrap/cache",
    "composer install --optimize-autoloader --no-dev",
    "php artisan view:clear || true",
    "php artisan cache:clear || true",
    "php artisan config:clear || true",
    "php artisan migrate --force",
    "php artisan storage:link || true",
    "php artisan view:cache",
    "php artisan event:cache",
    "php artisan config:cache",
    "php artisan route:cache",
]

## Health Checks
[health]
path = "/health"
timeout = 30

## Workers (from Procfile)
[workers]
web = "php artisan octane:start --server=roadrunner --host=0.0.0.0 --port=$PORT"
queue = "php artisan queue:work redis --sleep=3 --tries=3 --max-time=3600"
scheduler = "php artisan schedule:work"

## Cron Jobs
[cron]
# Laravel scheduler handles all cron jobs
"* * * * *" = "php artisan schedule:run"
